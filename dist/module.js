/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/runtime","@grafana/ui","react"],((t,e,r,n)=>(()=>{var o=[(t,e,r)=>{var n=r(24),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();t.exports=a},t=>{var e=Array.isArray;t.exports=e},(t,e,r)=>{var n=r(51),o=r(56);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},(t,e,r)=>{var n=r(7),o=r(52),a=r(53),i=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?o(t):a(t)}},t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},(t,e,r)=>{var n=r(23),o=r(15);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},(t,e,r)=>{var n=r(0).Symbol;t.exports=n},t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},(t,e,r)=>{var n=r(71),o=r(72),a=r(73),i=r(74),u=r(75);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=u,t.exports=c},(t,e,r)=>{var n=r(8);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},(t,e,r)=>{var n=r(2)(Object,"create");t.exports=n},(t,e,r)=>{var n=r(89);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},(t,e,r)=>{var n=r(21);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},t=>{t.exports=function(t){return t}},t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},(t,e,r)=>{var n=r(2)(r(0),"Map");t.exports=n},(t,e,r)=>{var n=r(81),o=r(88),a=r(90),i=r(91),u=r(92);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=u,t.exports=c},(t,e,r)=>{var n=r(26),o=r(110),a=r(5);t.exports=function(t){return a(t)?n(t):o(t)}},(t,e,r)=>{var n=r(1),o=r(21),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(i.test(t)||!a.test(t)||null!=e&&t in Object(e))}},(t,e,r)=>{var n=r(3),o=r(6);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},(t,e,r)=>{t=r.nmd(t);var n=r(0),o=r(62),a=e&&!e.nodeType&&e,i=a&&t&&!t.nodeType&&t,u=i&&i.exports===a?n.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},(t,e,r)=>{var n=r(3),o=r(4);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},(t,e,r)=>{var n=r(60),o=r(27),a=r(1),i=r(22),u=r(16),c=r(28),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=a(t),l=!r&&o(t),f=!r&&!l&&i(t),p=!r&&!l&&!f&&c(t),h=r||l||f||p,d=h?n(t.length,String):[],v=d.length;for(var g in t)!e&&!s.call(t,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||d.push(g);return d}},(t,e,r)=>{var n=r(61),o=r(6),a=Object.prototype,i=a.hasOwnProperty,u=a.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&i.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},(t,e,r)=>{var n=r(63),o=r(64),a=r(38),i=a&&a.isTypedArray,u=i?o(i):n;t.exports=u},t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},(t,e,r)=>{var n=r(9),o=r(76),a=r(77),i=r(78),u=r(79),c=r(80);function s(t){var e=this.__data__=new n(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=u,s.prototype.set=c,t.exports=s},(t,e,r)=>{var n=r(93),o=r(6);t.exports=function t(e,r,a,i,u){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,a,i,t,u))}},(t,e,r)=>{var n=r(94),o=r(97),a=r(98);t.exports=function(t,e,r,i,u,c){var s=1&r,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var p=c.get(t),h=c.get(e);if(p&&h)return p==e&&h==t;var d=-1,v=!0,g=2&r?new n:void 0;for(c.set(t,e),c.set(e,t);++d<l;){var y=t[d],b=e[d];if(i)var m=s?i(b,y,d,e,t,c):i(y,b,d,t,e,c);if(void 0!==m){if(m)continue;v=!1;break}if(g){if(!o(e,(function(t,e){if(!a(g,e)&&(y===t||u(y,t,r,i,c)))return g.push(e)}))){v=!1;break}}else if(y!==b&&!u(y,b,r,i,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},(t,e,r)=>{var n=r(4);t.exports=function(t){return t==t&&!n(t)}},t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},(t,e,r)=>{var n=r(37),o=r(13);t.exports=function(t,e){for(var r=0,a=(e=n(e,t)).length;null!=t&&r<a;)t=t[o(e[r++])];return r&&r==a?t:void 0}},(t,e,r)=>{var n=r(1),o=r(20),a=r(121),i=r(124);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:a(i(t))}},(t,e,r)=>{t=r.nmd(t);var n=r(24),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,i=a&&a.exports===o&&n.process,u=function(){try{var t=a&&a.require&&a.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=u},e=>{"use strict";e.exports=t},t=>{!function(){"use strict";var e=Math.PI,r=Math.sin,n=Math.cos,o=Math.tan,a=Math.asin,i=Math.atan2,u=Math.acos,c=e/180,s=864e5,l=2440588,f=2451545;function p(t){return new Date((t+.5-l)*s)}function h(t){return function(t){return t.valueOf()/s-.5+l}(t)-f}var d=23.4397*c;function v(t,e){return i(r(t)*n(d)-o(e)*r(d),n(t))}function g(t,e){return a(r(e)*n(d)+n(e)*r(d)*r(t))}function y(t,e,a){return i(r(t),n(t)*r(e)-o(a)*n(e))}function b(t,e,o){return a(r(e)*r(o)+n(e)*n(o)*n(t))}function m(t,e){return c*(280.16+360.9856235*t)-e}function x(t){return c*(357.5291+.98560028*t)}function w(t){return t+c*(1.9148*r(t)+.02*r(2*t)+3e-4*r(3*t))+102.9372*c+e}function _(t){var e=w(x(t));return{dec:g(e,0),ra:v(e,0)}}var j={getPosition:function(t,e,r){var n=c*-r,o=c*e,a=h(t),i=_(a),u=m(a,n)-i.ra;return{azimuth:y(u,o,i.dec),altitude:b(u,o,i.dec)}}},O=j.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];j.addTime=function(t,e,r){O.push([t,e,r])};var k=9e-4;function P(t,r,n){return k+(t+r)/(2*e)+n}function E(t,e,n){return f+t+.0053*r(e)-.0069*r(2*n)}function S(t,e,o,a,i,c,s){var l=function(t,e,o){return u((r(t)-r(e)*r(o))/(n(e)*n(o)))}(t,o,a);return E(P(l,e,i),c,s)}function T(t){var e=c*(134.963+13.064993*t),o=c*(93.272+13.22935*t),a=c*(218.316+13.176396*t)+6.289*c*r(e),i=5.128*c*r(o),u=385001-20905*n(e);return{ra:v(a,i),dec:g(a,i),dist:u}}function D(t,e){return new Date(t.valueOf()+e*s/24)}j.getTimes=function(t,r,n,o){var a,i,u,s,l,f=c*-n,d=c*r,v=function(t){return-2.076*Math.sqrt(t)/60}(o=o||0),y=function(t,r){return Math.round(t-k-r/(2*e))}(h(t),f),b=P(0,f,y),m=x(b),_=w(m),j=g(_,0),T=E(b,m,_),D={solarNoon:p(T),nadir:p(T-.5)};for(a=0,i=O.length;a<i;a+=1)l=T-((s=S(((u=O[a])[0]+v)*c,f,d,j,y,m,_))-T),D[u[1]]=p(l),D[u[2]]=p(s);return D},j.getMoonPosition=function(t,e,a){var u=c*-a,s=c*e,l=h(t),f=T(l),p=m(l,u)-f.ra,d=b(p,s,f.dec),v=i(r(p),o(s)*n(f.dec)-r(f.dec)*n(p));return d+=function(t){return t<0&&(t=0),2967e-7/Math.tan(t+.00312536/(t+.08901179))}(d),{azimuth:y(p,s,f.dec),altitude:d,distance:f.dist,parallacticAngle:v}},j.getMoonIllumination=function(t){var e=h(t||new Date),o=_(e),a=T(e),c=149598e3,s=u(r(o.dec)*r(a.dec)+n(o.dec)*n(a.dec)*n(o.ra-a.ra)),l=i(c*r(s),a.dist-c*n(s)),f=i(n(o.dec)*r(o.ra-a.ra),r(o.dec)*n(a.dec)-n(o.dec)*r(a.dec)*n(o.ra-a.ra));return{fraction:(1+n(l))/2,phase:.5+.5*l*(f<0?-1:1)/Math.PI,angle:f}},j.getMoonTimes=function(t,e,r,n){var o=new Date(t);n?o.setUTCHours(0,0,0,0):o.setHours(0,0,0,0);for(var a,i,u,s,l,f,p,h,d,v,g,y,b,m=.133*c,x=j.getMoonPosition(o,e,r).altitude-m,w=1;w<=24&&(a=j.getMoonPosition(D(o,w),e,r).altitude-m,h=((l=(x+(i=j.getMoonPosition(D(o,w+1),e,r).altitude-m))/2-a)*(p=-(f=(i-x)/2)/(2*l))+f)*p+a,v=0,(d=f*f-4*l*a)>=0&&(g=p-(b=Math.sqrt(d)/(2*Math.abs(l))),y=p+b,Math.abs(g)<=1&&v++,Math.abs(y)<=1&&v++,g<-1&&(g=y)),1===v?x<0?u=w+g:s=w+g:2===v&&(u=w+(h<0?y:g),s=w+(h<0?g:y)),!u||!s);w+=2)x=i;var _={};return u&&(_.rise=D(o,u)),s&&(_.set=D(o,s)),u||s||(_[h>0?"alwaysUp":"alwaysDown"]=!0),_},t.exports=j}()},t=>{"use strict";t.exports=n},t=>{"use strict";t.exports=r},(t,e,r)=>{var n=r(44),o=r(8),a=r(58),i=r(59),u=Object.prototype,c=u.hasOwnProperty,s=n((function(t,e){t=Object(t);var r=-1,n=e.length,s=n>2?e[2]:void 0;for(s&&a(e[0],e[1],s)&&(n=1);++r<n;)for(var l=e[r],f=i(l),p=-1,h=f.length;++p<h;){var d=f[p],v=t[d];(void 0===v||o(v,u[d])&&!c.call(t,d))&&(t[d]=l[d])}return t}));t.exports=s},(t,e,r)=>{var n=r(14),o=r(45),a=r(47);t.exports=function(t,e){return a(o(t,e,n),t+"")}},(t,e,r)=>{var n=r(46),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var a=arguments,i=-1,u=o(a.length-e,0),c=Array(u);++i<u;)c[i]=a[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=a[i];return s[e]=r(c),n(t,this,s)}}},t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},(t,e,r)=>{var n=r(48),o=r(57)(n);t.exports=o},(t,e,r)=>{var n=r(49),o=r(50),a=r(14),i=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:a;t.exports=i},t=>{t.exports=function(t){return function(){return t}}},(t,e,r)=>{var n=r(2),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},(t,e,r)=>{var n=r(23),o=r(54),a=r(4),i=r(25),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||o(t))&&(n(t)?p:u).test(i(t))}},(t,e,r)=>{var n=r(7),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=i.call(t);return n&&(e?t[u]=r:delete t[u]),o}},t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},(t,e,r)=>{var n,o=r(55),a=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!a&&a in t}},(t,e,r)=>{var n=r(0)["__core-js_shared__"];t.exports=n},t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),a=16-(o-n);if(n=o,a>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},(t,e,r)=>{var n=r(8),o=r(5),a=r(16),i=r(4);t.exports=function(t,e,r){if(!i(r))return!1;var u=typeof e;return!!("number"==u?o(r)&&a(e,r.length):"string"==u&&e in r)&&n(r[e],t)}},(t,e,r)=>{var n=r(26),o=r(65),a=r(5);t.exports=function(t){return a(t)?n(t,!0):o(t)}},t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},(t,e,r)=>{var n=r(3),o=r(6);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},t=>{t.exports=function(){return!1}},(t,e,r)=>{var n=r(3),o=r(15),a=r(6),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&o(t.length)&&!!i[n(t)]}},t=>{t.exports=function(t){return function(e){return t(e)}}},(t,e,r)=>{var n=r(4),o=r(29),a=r(66),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return a(t);var e=o(t),r=[];for(var u in t)("constructor"!=u||!e&&i.call(t,u))&&r.push(u);return r}},t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},(t,e,r)=>{var n=r(30),o=r(68),a=r(132),i=r(1);t.exports=function(t,e){return(i(t)?n:a)(t,o(e,3))}},(t,e,r)=>{var n=r(69),o=r(119),a=r(14),i=r(1),u=r(129);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?i(t)?o(t[0],t[1]):n(t):u(t)}},(t,e,r)=>{var n=r(70),o=r(118),a=r(35);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},(t,e,r)=>{var n=r(31),o=r(32);t.exports=function(t,e,r,a){var i=r.length,u=i,c=!a;if(null==t)return!u;for(t=Object(t);i--;){var s=r[i];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<u;){var l=(s=r[i])[0],f=t[l],p=s[1];if(c&&s[2]){if(void 0===f&&!(l in t))return!1}else{var h=new n;if(a)var d=a(f,p,l,t,e,h);if(!(void 0===d?o(p,f,3,a,h):d))return!1}}return!0}},t=>{t.exports=function(){this.__data__=[],this.size=0}},(t,e,r)=>{var n=r(10),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},(t,e,r)=>{var n=r(10);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},(t,e,r)=>{var n=r(10);t.exports=function(t){return n(this.__data__,t)>-1}},(t,e,r)=>{var n=r(10);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},(t,e,r)=>{var n=r(9);t.exports=function(){this.__data__=new n,this.size=0}},t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},t=>{t.exports=function(t){return this.__data__.get(t)}},t=>{t.exports=function(t){return this.__data__.has(t)}},(t,e,r)=>{var n=r(9),o=r(17),a=r(18);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var i=r.__data__;if(!o||i.length<199)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(i)}return r.set(t,e),this.size=r.size,this}},(t,e,r)=>{var n=r(82),o=r(9),a=r(17);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},(t,e,r)=>{var n=r(83),o=r(84),a=r(85),i=r(86),u=r(87);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=u,t.exports=c},(t,e,r)=>{var n=r(11);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},(t,e,r)=>{var n=r(11),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},(t,e,r)=>{var n=r(11),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},(t,e,r)=>{var n=r(11);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},(t,e,r)=>{var n=r(12);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},(t,e,r)=>{var n=r(12);t.exports=function(t){return n(this,t).get(t)}},(t,e,r)=>{var n=r(12);t.exports=function(t){return n(this,t).has(t)}},(t,e,r)=>{var n=r(12);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},(t,e,r)=>{var n=r(31),o=r(33),a=r(99),i=r(103),u=r(113),c=r(1),s=r(22),l=r(28),f="[object Arguments]",p="[object Array]",h="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,v,g,y){var b=c(t),m=c(e),x=b?p:u(t),w=m?p:u(e),_=(x=x==f?h:x)==h,j=(w=w==f?h:w)==h,O=x==w;if(O&&s(t)){if(!s(e))return!1;b=!0,_=!1}if(O&&!_)return y||(y=new n),b||l(t)?o(t,e,r,v,g,y):a(t,e,x,r,v,g,y);if(!(1&r)){var k=_&&d.call(t,"__wrapped__"),P=j&&d.call(e,"__wrapped__");if(k||P){var E=k?t.value():t,S=P?e.value():e;return y||(y=new n),g(E,S,r,v,y)}}return!!O&&(y||(y=new n),i(t,e,r,v,g,y))}},(t,e,r)=>{var n=r(18),o=r(95),a=r(96);function i(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,t.exports=i},t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},t=>{t.exports=function(t){return this.__data__.has(t)}},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},t=>{t.exports=function(t,e){return t.has(e)}},(t,e,r)=>{var n=r(7),o=r(100),a=r(8),i=r(33),u=r(101),c=r(102),s=n?n.prototype:void 0,l=s?s.valueOf:void 0;t.exports=function(t,e,r,n,s,f,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=u;case"[object Set]":var d=1&n;if(h||(h=c),t.size!=e.size&&!d)return!1;var v=p.get(t);if(v)return v==e;n|=2,p.set(t,e);var g=i(h(t),h(e),n,s,f,p);return p.delete(t),g;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},(t,e,r)=>{var n=r(0).Uint8Array;t.exports=n},t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},(t,e,r)=>{var n=r(104),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,a,i,u){var c=1&r,s=n(t),l=s.length;if(l!=n(e).length&&!c)return!1;for(var f=l;f--;){var p=s[f];if(!(c?p in e:o.call(e,p)))return!1}var h=u.get(t),d=u.get(e);if(h&&d)return h==e&&d==t;var v=!0;u.set(t,e),u.set(e,t);for(var g=c;++f<l;){var y=t[p=s[f]],b=e[p];if(a)var m=c?a(b,y,p,e,t,u):a(y,b,p,t,e,u);if(!(void 0===m?y===b||i(y,b,r,a,u):m)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(t),u.delete(e),v}},(t,e,r)=>{var n=r(105),o=r(107),a=r(19);t.exports=function(t){return n(t,a,o)}},(t,e,r)=>{var n=r(106),o=r(1);t.exports=function(t,e,r){var a=e(t);return o(t)?a:n(a,r(t))}},t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},(t,e,r)=>{var n=r(108),o=r(109),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,u=i?function(t){return null==t?[]:(t=Object(t),n(i(t),(function(e){return a.call(t,e)})))}:o;t.exports=u},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a}},t=>{t.exports=function(){return[]}},(t,e,r)=>{var n=r(29),o=r(111),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}},(t,e,r)=>{var n=r(112)(Object.keys,Object);t.exports=n},t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},(t,e,r)=>{var n=r(114),o=r(17),a=r(115),i=r(116),u=r(117),c=r(3),s=r(25),l="[object Map]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",d="[object DataView]",v=s(n),g=s(o),y=s(a),b=s(i),m=s(u),x=c;(n&&x(new n(new ArrayBuffer(1)))!=d||o&&x(new o)!=l||a&&x(a.resolve())!=f||i&&x(new i)!=p||u&&x(new u)!=h)&&(x=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?s(r):"";if(n)switch(n){case v:return d;case g:return l;case y:return f;case b:return p;case m:return h}return e}),t.exports=x},(t,e,r)=>{var n=r(2)(r(0),"DataView");t.exports=n},(t,e,r)=>{var n=r(2)(r(0),"Promise");t.exports=n},(t,e,r)=>{var n=r(2)(r(0),"Set");t.exports=n},(t,e,r)=>{var n=r(2)(r(0),"WeakMap");t.exports=n},(t,e,r)=>{var n=r(34),o=r(19);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var a=e[r],i=t[a];e[r]=[a,i,n(i)]}return e}},(t,e,r)=>{var n=r(32),o=r(120),a=r(126),i=r(20),u=r(34),c=r(35),s=r(13);t.exports=function(t,e){return i(t)&&u(e)?c(s(t),e):function(r){var i=o(r,t);return void 0===i&&i===e?a(r,t):n(e,i,3)}}},(t,e,r)=>{var n=r(36);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},(t,e,r)=>{var n=r(122),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(a,"$1"):r||t)})),e}));t.exports=i},(t,e,r)=>{var n=r(123);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},(t,e,r)=>{var n=r(18);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},(t,e,r)=>{var n=r(125);t.exports=function(t){return null==t?"":n(t)}},(t,e,r)=>{var n=r(7),o=r(30),a=r(1),i=r(21),u=n?n.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return o(e,t)+"";if(i(e))return c?c.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},(t,e,r)=>{var n=r(127),o=r(128);t.exports=function(t,e){return null!=t&&o(t,e,n)}},t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},(t,e,r)=>{var n=r(37),o=r(27),a=r(1),i=r(16),u=r(15),c=r(13);t.exports=function(t,e,r){for(var s=-1,l=(e=n(e,t)).length,f=!1;++s<l;){var p=c(e[s]);if(!(f=null!=t&&r(t,p)))break;t=t[p]}return f||++s!=l?f:!!(l=null==t?0:t.length)&&u(l)&&i(p,l)&&(a(t)||o(t))}},(t,e,r)=>{var n=r(130),o=r(131),a=r(20),i=r(13);t.exports=function(t){return a(t)?n(i(t)):o(t)}},t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},(t,e,r)=>{var n=r(36);t.exports=function(t){return function(e){return n(e,t)}}},(t,e,r)=>{var n=r(133),o=r(5);t.exports=function(t,e){var r=-1,a=o(t)?Array(t.length):[];return n(t,(function(t,n,o){a[++r]=e(t,n,o)})),a}},(t,e,r)=>{var n=r(134),o=r(137)(n);t.exports=o},(t,e,r)=>{var n=r(135),o=r(19);t.exports=function(t,e){return t&&n(t,e,o)}},(t,e,r)=>{var n=r(136)();t.exports=n},t=>{t.exports=function(t){return function(e,r,n){for(var o=-1,a=Object(e),i=n(e),u=i.length;u--;){var c=i[t?u:++o];if(!1===r(a[c],c,a))break}return e}}},(t,e,r)=>{var n=r(5);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var a=r.length,i=e?a:-1,u=Object(r);(e?i--:++i<a)&&!1!==o(u[i],i,u););return r}}},,t=>{"use strict";t.exports=e}],a={};function i(t){var e=a[t];if(void 0!==e)return e.exports;var r=a[t]={id:t,loaded:!1,exports:{}};return o[t](r,r.exports,i),r.loaded=!0,r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var u={};return(()=>{"use strict";i.r(u),i.d(u,{plugin:()=>tt});var t=i(39),e=i(40),r=i(139),n={moon_illumination:{title:"Moon illumination",text:"Percentage of the moon illuminated by the sun (0.0 - 1.0)",config:{unit:"percentunit",decimals:0}},moon_altitude:{title:"Moon altitude",text:"Height of the moon in degrees (-90 - 90)",config:{unit:"degree",min:0}},moon_azimuth:{title:"Moon azimuth",text:"Direction of the moon along the horizon in degrees (0 - 360)",config:{unit:"degree"}},moon_distance:{title:"Moon distance",text:"Distance to the moon in kilometers",config:{unit:"lengthkm",decimals:0}},sun_altitude:{title:"Sun altitude",text:"Height of the sun in degrees (-90 - 90)",config:{unit:"degree",min:0}},sun_azimuth:{title:"Sun azimuth",text:"Direction of the sun along the horizon in degrees (0 - 360)",config:{unit:"degree"}}},o={sunrise:{title:"Sunrise",text:"Top edge of the sun appears on the horizon",tags:["sun"]},sunriseEnd:{title:"Sunrise ends",text:"Bottom edge of the sun touches the horizon",tags:["sun"]},goldenHourEnd:{title:"Morning golden hour ends",text:"Soft light, best time for photography",tags:["sun"]},solarNoon:{title:"Solar noon",text:"Sun is in the highest position",tags:["sun"]},goldenHour:{title:"Evening golden hour starts",text:"Soft light, best time for photography",tags:["sun"]},sunsetStart:{title:"Sunset starts",text:"Bottom edge of the sun touches the horizon",tags:["sun"]},sunset:{title:"Sunset",text:"Sun disappears below the horizon, evening civil twilight starts",tags:["sun"]},dusk:{title:"Dusk",text:"Evening nautical twilight starts",tags:["sun"]},nauticalDusk:{title:"Nautical dusk",text:"Evening astronomical twilight starts",tags:["sun"]},night:{title:"Night starts",text:"Dark enough for astronomical observations",tags:["sun"]},nadir:{title:"Nadir",text:"Darkest moment of the night, sun is in the lowest position",tags:["sun"]},nightEnd:{title:"Night ends",text:"Morning astronomical twilight starts",tags:["sun"]},nauticalDawn:{title:"Nautical dawn",text:"Morning nautical twilight starts",tags:["sun"]},dawn:{title:"Dawn",text:"Morning nautical twilight ends, morning civil twilight starts",tags:["sun"]},moonrise:{title:"Moonrise",text:"Top edge of the moon appears on the horizon",tags:["moon"]},moonset:{title:"Moonset",text:"Moon disappears below the horizon",tags:["moon"]},noon:{title:"Noon",text:"12 o'clock in the daytime",tags:["time"]},midnight:{title:"Midnight",text:"12 o'clock in the night",tags:["time"]}},a={target:["moon_illumination"]},c=function(t){if(t.query){var e=t.query.split(",").map((function(t){return t.trim()}));t.target=e.filter((function(t){return"*"!==t})),delete t.query}else"string"==typeof t.target&&(t.target=[t.target])};function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(){l=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var a=e&&e.prototype instanceof d?e:d,i=Object.create(a.prototype),u=new E(o||[]);return n(i,"_invoke",{value:j(t,r,u)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function g(){}var y={};c(y,a,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(S([])));m&&m!==e&&r.call(m,a)&&(y=m);var x=g.prototype=d.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,i,u){var c=p(t[n],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,i,u)}),(function(t){o("throw",t,i,u)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return o("throw",t,i,u)}))}u(c.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function j(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return T()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var u=O(i,r);if(u){if(u===h)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=p(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=g,n(x,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:v,configurable:!0}),v.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(_.prototype),c(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(x),c(x,u,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function f(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){h(a,n,o,i,u,"next",t)}function u(t){h(a,n,o,i,u,"throw",t)}i(void 0)}))}}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x(t);if(e){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return m(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _,j,O=function(a){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(x,a);var i,u,s,p,h,b=y(x);function x(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,x),w(m(e=b.call(this,t)),"latitude",void 0),w(m(e),"longitude",void 0),e.latitude=t.jsonData.latitude,e.longitude=t.jsonData.longitude,e.annotations={},e}return i=x,u=[{key:"query",value:(h=d(l().mark((function a(i){var u,s,p,h,d,v,g,y,b,m,x,w,_,j,O,k,P,E,S,T,D,M,L;return l().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:u=i.range,s=[],p=i.targets.filter((function(t){return!t.hide})),h=[],d=f(p),a.prev=5,d.s();case 7:if((v=d.n()).done){a.next=124;break}if(g=v.value,y=this.latitude,g.latitude&&(y=parseFloat((0,r.getTemplateSrv)().replace(g.latitude,i.scopedVars)),(isNaN(y)||y<-90||y>90)&&s.push("Error in query ".concat(g.refId,": Latitude '").concat(y,"' not in range -+90."))),b=this.longitude,g.longitude&&(b=parseFloat((0,r.getTemplateSrv)().replace(g.longitude,i.scopedVars)),(isNaN(b)||b<-360||b>360)&&s.push("Error in query ".concat(g.refId,": Longitude '").concat(b,"' not in range -+360"))),c(g),m=g.target.filter((function(t){return t in n})),x=g.target.filter((function(t){return t in o})),!m.length){a.next=58;break}w=f(m),a.prev=18,w.s();case 20:if((_=w.n()).done){a.next=50;break}j=_.value,O=new t.MutableDataFrame({refId:g.refId,name:n[j].title,fields:[{name:"Time",type:t.FieldType.time},{name:"Value",type:t.FieldType.number,config:n[j].config}]}),k=void 0,P=u.from.valueOf();case 25:if(!(P<u.to.valueOf())){a.next=47;break}a.t0=j,a.next="moon_illumination"===a.t0?29:"moon_phase"===a.t0?31:"moon_altitude"===a.t0?33:"moon_azimuth"===a.t0?35:"moon_distance"===a.t0?37:"sun_altitude"===a.t0?39:"sun_azimuth"===a.t0?41:43;break;case 29:return k=e.getMoonIllumination(new Date(P)).fraction,a.abrupt("break",43);case 31:return k=e.getMoonIllumination(new Date(P)).phase,a.abrupt("break",43);case 33:return k=180*e.getMoonPosition(new Date(P),y,b).altitude/Math.PI,a.abrupt("break",43);case 35:return k=180*e.getMoonPosition(new Date(P),y,b).azimuth/Math.PI+180,a.abrupt("break",43);case 37:return k=e.getMoonPosition(new Date(P),y,b).distance,a.abrupt("break",43);case 39:return k=180*e.getPosition(new Date(P),y,b).altitude/Math.PI,a.abrupt("break",43);case 41:return k=180*e.getPosition(new Date(P),y,b).azimuth/Math.PI+180,a.abrupt("break",43);case 43:void 0!==k&&O.add({Time:P,Value:k});case 44:P+=i.intervalMs,a.next=25;break;case 47:h.push(O);case 48:a.next=20;break;case 50:a.next=55;break;case 52:a.prev=52,a.t1=a.catch(18),w.e(a.t1);case 55:return a.prev=55,w.f(),a.finish(55);case 58:if(!x.length){a.next=122;break}E=f(x),a.prev=60,E.s();case 62:if((S=E.n()).done){a.next=114;break}T=S.value,D=new t.MutableDataFrame({refId:g.refId,name:o[T].title,fields:[{name:"Time",type:t.FieldType.time},{name:"Title",type:t.FieldType.string},{name:"Text",type:t.FieldType.string},{name:"Tags",type:t.FieldType.other}]}),M=(0,t.dateTime)(u.from.valueOf());case 66:if(!(M<(0,t.dateTime)(u.to.valueOf()).add(1,"days"))){a.next=111;break}L=void 0,a.t2=T,a.next="sunrise"===a.t2?71:"sunriseEnd"===a.t2?73:"goldenHour"===a.t2?75:"goldenHourEnd"===a.t2?77:"solarNoon"===a.t2?79:"sunsetStart"===a.t2?81:"sunset"===a.t2?83:"dusk"===a.t2?85:"nauticalDusk"===a.t2?87:"nauticalDawn"===a.t2?89:"night"===a.t2?91:"nightEnd"===a.t2?93:"nadir"===a.t2?95:"dawn"===a.t2?97:"moonrise"===a.t2?99:"moonset"===a.t2?101:"noon"===a.t2?103:"midnight"===a.t2?105:107;break;case 71:return L=e.getTimes(M.toDate(),y,b).sunrise,a.abrupt("break",107);case 73:return L=e.getTimes(M.toDate(),y,b).sunriseEnd,a.abrupt("break",107);case 75:return L=e.getTimes(M.toDate(),y,b).goldenHour,a.abrupt("break",107);case 77:return L=e.getTimes(M.toDate(),y,b).goldenHourEnd,a.abrupt("break",107);case 79:return L=e.getTimes(M.toDate(),y,b).solarNoon,a.abrupt("break",107);case 81:return L=e.getTimes(M.toDate(),y,b).sunsetStart,a.abrupt("break",107);case 83:return L=e.getTimes(M.toDate(),y,b).sunset,a.abrupt("break",107);case 85:return L=e.getTimes(M.toDate(),y,b).dusk,a.abrupt("break",107);case 87:return L=e.getTimes(M.toDate(),y,b).nauticalDusk,a.abrupt("break",107);case 89:return L=e.getTimes(M.toDate(),y,b).nauticalDawn,a.abrupt("break",107);case 91:return L=e.getTimes(M.toDate(),y,b).night,a.abrupt("break",107);case 93:return L=e.getTimes(M.toDate(),y,b).nightEnd,a.abrupt("break",107);case 95:return L=e.getTimes(M.toDate(),y,b).nadir,a.abrupt("break",107);case 97:return L=e.getTimes(M.toDate(),y,b).dawn,a.abrupt("break",107);case 99:return L=e.getMoonTimes(M.toDate(),y,b).rise,a.abrupt("break",107);case 101:return L=e.getMoonTimes(M.toDate(),y,b).set,a.abrupt("break",107);case 103:return L=(0,t.dateTimeParse)("".concat(M.format("YYYY-MM-DD")," 12:00:00"),{timeZone:i.timezone}),a.abrupt("break",107);case 105:return L=(0,t.dateTimeParse)("".concat(M.format("YYYY-MM-DD")," 00:00:00"),{timeZone:i.timezone}),a.abrupt("break",107);case 107:void 0!==L&&D.add({Time:L.valueOf(),Title:o[T].title,Text:o[T].text,Tags:o[T].tags});case 108:M.add(1,"days"),a.next=66;break;case 111:h.push(D);case 112:a.next=62;break;case 114:a.next=119;break;case 116:a.prev=116,a.t3=a.catch(60),E.e(a.t3);case 119:return a.prev=119,E.f(),a.finish(119);case 122:a.next=7;break;case 124:a.next=129;break;case 126:a.prev=126,a.t4=a.catch(5),d.e(a.t4);case 129:return a.prev=129,d.f(),a.finish(129);case 132:if(!s.length){a.next=136;break}throw new Error(s.join(" "));case 136:return a.abrupt("return",{data:h});case 137:case"end":return a.stop()}}),a,this,[[5,126,129,132],[18,52,55,58],[60,116,119,122]])}))),function(t){return h.apply(this,arguments)})},{key:"testDatasource",value:(p=d(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[],(void 0===this.latitude||this.latitude<-90||this.latitude>90)&&e.push("Latitude not in range -+90."),(void 0===this.longitude||this.longitude<-360||this.longitude>360)&&e.push("Longitude not in range -+360."),!e.length){t.next=7;break}return t.abrupt("return",{status:"error",title:"Error",message:e.join(" ")});case 7:return t.abrupt("return",{status:"success",title:"Success",message:"Datasource added successfully."});case 8:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})}],u&&v(i.prototype,u),s&&v(i,s),Object.defineProperty(i,"prototype",{writable:!1}),x}(t.DataSourceApi),k=i(41),P=i.n(k),E=i(42);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function T(){return T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T.apply(this,arguments)}function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=N(t);if(e){var o=N(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return z(this,r)}}function z(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return A(t)}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}function I(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C,F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(a,t);var e,r,n,o=L(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),I(A(e=o.call(this,t)),"fillPositionFromGeoLocation",(function(){var t=e.props.options.jsonData;void 0===t.latitude&&void 0===t.longitude&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var r=e.props,n=r.onOptionsChange,o=r.options,a=T({},o.jsonData,{latitude:t.coords.latitude,longitude:t.coords.longitude});n(T({},o,{jsonData:a}))}))})),I(A(e),"onLatitudeChange",(function(t){var r=parseFloat(t.target.value),n=e.props,o=n.onOptionsChange,a=n.options,i=T({},a.jsonData,{latitude:isNaN(r)?void 0:r});o(T({},a,{jsonData:i}))})),I(A(e),"onLongitudeChange",(function(t){var r=parseFloat(t.target.value),n=e.props,o=n.onOptionsChange,a=n.options,i=T({},a.jsonData,{longitude:isNaN(r)?void 0:r});o(T({},a,{jsonData:i}))})),e.fillPositionFromGeoLocation(),e}return e=a,(r=[{key:"render",value:function(){var t=this.props.options.jsonData;return P().createElement("div",{className:"gf-form-group"},_||(_=P().createElement("h3",{className:"page-heading"},"Sun and Moon reference location")),j||(j=P().createElement("div",{className:"grafana-info-box"},"This datasource calculates sun and moon metrics that are relative to a location on earth.",P().createElement("br",null),"The geographic position is expressed as latitude and longitude in decimal degrees.")),P().createElement("div",{className:"gf-form"},P().createElement(E.InlineField,{label:"Latitude",labelWidth:14},P().createElement(E.Input,{className:"latitude","aria-label":"Latitude",onChange:this.onLatitudeChange,value:t.latitude,placeholder:"48.3984",type:"number",min:-90,max:90,required:!0,width:32}))),P().createElement("div",{className:"gf-form"},P().createElement(E.InlineField,{label:"Longitude",labelWidth:14},P().createElement(E.Input,{className:"longitude","aria-label":"Longitude",onChange:this.onLongitudeChange,value:t.longitude,placeholder:"9.9910",type:"number",min:-360,max:360,required:!0,width:32}))))}}])&&D(e.prototype,r),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(k.PureComponent),R=i(43),q=i.n(R),B=i(67);function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Q(t);if(e){var o=Q(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return V(this,r)}}function V(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return W(t)}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q(t)}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J.apply(this,arguments)}var K=i.n(B)()(J({},n,o),(function(t,e){return{label:t.title,value:e,description:t.text}})),X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(i,t);var e,r,n,o=U(i);function i(){var t;G(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Z(W(t=o.call.apply(o,[this].concat(r))),"onMetricChanged",(function(e){var r=t.props,n=r.onChange,o=r.query,a=r.onRunQuery;n(J({},o,{target:e.map((function(t){return t.value}))})),a()})),Z(W(t),"onLatitudeChange",(function(e){var r=t.props,n=r.onChange,o=r.query,a=r.onRunQuery;n(J({},o,{latitude:e.target.value})),a()})),Z(W(t),"onLongitudeChange",(function(e){var r=t.props,n=r.onChange,o=r.query,a=r.onRunQuery;n(J({},o,{longitude:e.target.value})),a()})),t}return e=i,(r=[{key:"render",value:function(){c(this.props.query);var t=q()(this.props.query,a),e=this.props.datasource;return P().createElement("div",{className:"gf-form-group"},P().createElement("div",{className:"gf-form"},C||(C=P().createElement(E.InlineFormLabel,{htmlFor:"Metric"},"Metric")),P().createElement(E.MultiSelect,{className:"metric",inputId:"Metric",options:K,value:t.target,onChange:this.onMetricChanged,placeholder:"Metric"})),P().createElement("div",{className:"gf-form gf-form--grow"},P().createElement(E.InlineField,{label:"Override Latitude",labelWidth:20},P().createElement(E.Input,{className:"latitude","aria-label":"Latitude",onChange:this.onLatitudeChange,value:t.latitude,placeholder:e.latitude.toString(),width:32})),P().createElement(E.InlineField,{label:"Override Longitude",labelWidth:20},P().createElement(E.Input,{className:"longitude","aria-label":"Longitude",onChange:this.onLongitudeChange,value:t.longitude,placeholder:e.longitude.toString(),width:32}))))}}])&&$(e.prototype,r),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(k.PureComponent),tt=new t.DataSourcePlugin(O).setConfigEditor(F).setQueryEditor(X)})(),u})()));
//# sourceMappingURL=module.js.map