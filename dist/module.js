/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/runtime","@grafana/ui","react"],((t,e,r,n)=>(()=>{var o=[(t,e,r)=>{var n=r(31),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},t=>{var e=Array.isArray;t.exports=e},t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},(t,e,r)=>{var n=r(55),o=r(60);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},(t,e,r)=>{var n=r(9),o=r(56),i=r(57),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},(t,e,r)=>{var n=r(16),o=r(21);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},(t,e,r)=>{var n=r(30);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},(t,e,r)=>{var n=r(0).Symbol;t.exports=n},(t,e,r)=>{var n=r(71),o=r(72),i=r(73),a=r(74),u=r(75);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},(t,e,r)=>{var n=r(7);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},(t,e,r)=>{var n=r(3)(Object,"create");t.exports=n},(t,e,r)=>{var n=r(89);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},(t,e,r)=>{var n=r(27);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}},(t,e,r)=>{t=r.nmd(t);var n=r(0),o=r(64),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?n.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},(t,e,r)=>{var n=r(5),o=r(2);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},(t,e,r)=>{var n=r(35),o=r(67),i=r(6);t.exports=function(t){return i(t)?n(t):o(t)}},(t,e,r)=>{var n=r(63),o=r(4),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},(t,e,r)=>{var n=r(65),o=r(66),i=r(51),a=i&&i.isTypedArray,u=a?o(a):n;t.exports=u},t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},(t,e,r)=>{var n=r(10),o=r(76),i=r(77),a=r(78),u=r(79),c=r(80);function s(t){var e=this.__data__=new n(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=u,s.prototype.set=c,t.exports=s},(t,e,r)=>{var n=r(3)(r(0),"Map");t.exports=n},(t,e,r)=>{var n=r(81),o=r(88),i=r(90),a=r(91),u=r(92);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},(t,e,r)=>{var n=r(1),o=r(27),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}},(t,e,r)=>{var n=r(5),o=r(4);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},t=>{t.exports=function(t){return t}},(t,e,r)=>{var n=r(35),o=r(141),i=r(6);t.exports=function(t){return i(t)?n(t,!0):o(t)}},(t,e,r)=>{var n=r(3),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},(t,e,r)=>{var n=r(34),o=r(17);t.exports=function(t,e){return t&&n(t,e,o)}},(t,e,r)=>{var n=r(61)();t.exports=n},(t,e,r)=>{var n=r(62),o=r(18),i=r(1),a=r(15),u=r(19),c=r(20),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),f=!r&&!l&&a(t),p=!r&&!l&&!f&&c(t),h=r||l||f||p,v=h?n(t.length,String):[],d=v.length;for(var y in t)!e&&!s.call(t,y)||h&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,d))||v.push(y);return v}},t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},(t,e,r)=>{var n=r(69),o=r(115),i=r(28),a=r(1),u=r(125);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):n(t):u(t)}},(t,e,r)=>{var n=r(93),o=r(4);t.exports=function t(e,r,i,a,u){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,i,a,t,u))}},(t,e,r)=>{var n=r(94),o=r(97),i=r(98);t.exports=function(t,e,r,a,u,c){var s=1&r,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var p=c.get(t),h=c.get(e);if(p&&h)return p==e&&h==t;var v=-1,d=!0,y=2&r?new n:void 0;for(c.set(t,e),c.set(e,t);++v<l;){var g=t[v],b=e[v];if(a)var m=s?a(b,g,v,e,t,c):a(g,b,v,t,e,c);if(void 0!==m){if(m)continue;d=!1;break}if(y){if(!o(e,(function(t,e){if(!i(y,e)&&(g===t||u(g,t,r,a,c)))return y.push(e)}))){d=!1;break}}else if(g!==b&&!u(g,b,r,a,c)){d=!1;break}}return c.delete(t),c.delete(e),d}},(t,e,r)=>{var n=r(0).Uint8Array;t.exports=n},(t,e,r)=>{var n=r(2);t.exports=function(t){return t==t&&!n(t)}},t=>{t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},(t,e,r)=>{var n=r(44),o=r(14);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},(t,e,r)=>{var n=r(1),o=r(26),i=r(117),a=r(120);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},(t,e,r)=>{var n=r(8),o=r(7);t.exports=function(t,e,r){(void 0!==r&&!o(t[e],r)||void 0===r&&!(e in t))&&n(t,e,r)}},(t,e,r)=>{var n=r(36)(Object.getPrototypeOf,Object);t.exports=n},t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},(t,e,r)=>{var n=r(28),o=r(144),i=r(146);t.exports=function(t,e){return i(o(t,e,n),t+"")}},(t,e,r)=>{var n=r(7),o=r(6),i=r(19),a=r(2);t.exports=function(t,e,r){if(!a(r))return!1;var u=typeof e;return!!("number"==u?o(r)&&i(e,r.length):"string"==u&&e in r)&&n(r[e],t)}},(t,e,r)=>{t=r.nmd(t);var n=r(31),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},(t,e,r)=>{t=r.nmd(t);var n=r(0),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}},e=>{"use strict";e.exports=t},(t,e,r)=>{var n=r(8),o=r(33),i=r(37);t.exports=function(t,e){var r={};return e=i(e,3),o(t,(function(t,o,i){n(r,e(t,o,i),t)})),r}},(t,e,r)=>{var n=r(16),o=r(58),i=r(2),a=r(32),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?p:u).test(a(t))}},(t,e,r)=>{var n=r(9),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},(t,e,r)=>{var n,o=r(59),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},(t,e,r)=>{var n=r(0)["__core-js_shared__"];t.exports=n},t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},t=>{t.exports=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===r(i[c],c,i))break}return e}}},t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},(t,e,r)=>{var n=r(5),o=r(4);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},t=>{t.exports=function(){return!1}},(t,e,r)=>{var n=r(5),o=r(21),i=r(4),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},t=>{t.exports=function(t){return function(e){return t(e)}}},(t,e,r)=>{var n=r(22),o=r(68),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},(t,e,r)=>{var n=r(36)(Object.keys,Object);t.exports=n},(t,e,r)=>{var n=r(70),o=r(114),i=r(42);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},(t,e,r)=>{var n=r(23),o=r(38);t.exports=function(t,e,r,i){var a=r.length,u=a,c=!i;if(null==t)return!u;for(t=Object(t);a--;){var s=r[a];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<u;){var l=(s=r[a])[0],f=t[l],p=s[1];if(c&&s[2]){if(void 0===f&&!(l in t))return!1}else{var h=new n;if(i)var v=i(f,p,l,t,e,h);if(!(void 0===v?o(p,f,3,i,h):v))return!1}}return!0}},t=>{t.exports=function(){this.__data__=[],this.size=0}},(t,e,r)=>{var n=r(11),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},(t,e,r)=>{var n=r(11);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},(t,e,r)=>{var n=r(11);t.exports=function(t){return n(this.__data__,t)>-1}},(t,e,r)=>{var n=r(11);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},(t,e,r)=>{var n=r(10);t.exports=function(){this.__data__=new n,this.size=0}},t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},t=>{t.exports=function(t){return this.__data__.get(t)}},t=>{t.exports=function(t){return this.__data__.has(t)}},(t,e,r)=>{var n=r(10),o=r(24),i=r(25);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},(t,e,r)=>{var n=r(82),o=r(10),i=r(24);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},(t,e,r)=>{var n=r(83),o=r(84),i=r(85),a=r(86),u=r(87);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},(t,e,r)=>{var n=r(12);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},(t,e,r)=>{var n=r(12),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},(t,e,r)=>{var n=r(12),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},(t,e,r)=>{var n=r(12);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},(t,e,r)=>{var n=r(13);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},(t,e,r)=>{var n=r(13);t.exports=function(t){return n(this,t).get(t)}},(t,e,r)=>{var n=r(13);t.exports=function(t){return n(this,t).has(t)}},(t,e,r)=>{var n=r(13);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},(t,e,r)=>{var n=r(23),o=r(39),i=r(99),a=r(102),u=r(109),c=r(1),s=r(15),l=r(20),f="[object Arguments]",p="[object Array]",h="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,d,y,g){var b=c(t),m=c(e),x=b?p:u(t),w=m?p:u(e),_=(x=x==f?h:x)==h,j=(w=w==f?h:w)==h,O=x==w;if(O&&s(t)){if(!s(e))return!1;b=!0,_=!1}if(O&&!_)return g||(g=new n),b||l(t)?o(t,e,r,d,y,g):i(t,e,x,r,d,y,g);if(!(1&r)){var P=_&&v.call(t,"__wrapped__"),E=j&&v.call(e,"__wrapped__");if(P||E){var S=P?t.value():t,M=E?e.value():e;return g||(g=new n),y(S,M,r,d,g)}}return!!O&&(g||(g=new n),a(t,e,r,d,y,g))}},(t,e,r)=>{var n=r(25),o=r(95),i=r(96);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},t=>{t.exports=function(t){return this.__data__.has(t)}},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},t=>{t.exports=function(t,e){return t.has(e)}},(t,e,r)=>{var n=r(9),o=r(40),i=r(7),a=r(39),u=r(100),c=r(101),s=n?n.prototype:void 0,l=s?s.valueOf:void 0;t.exports=function(t,e,r,n,s,f,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var h=u;case"[object Set]":var v=1&n;if(h||(h=c),t.size!=e.size&&!v)return!1;var d=p.get(t);if(d)return d==e;n|=2,p.set(t,e);var y=a(h(t),h(e),n,s,f,p);return p.delete(t),y;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},(t,e,r)=>{var n=r(103),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,a,u){var c=1&r,s=n(t),l=s.length;if(l!=n(e).length&&!c)return!1;for(var f=l;f--;){var p=s[f];if(!(c?p in e:o.call(e,p)))return!1}var h=u.get(t),v=u.get(e);if(h&&v)return h==e&&v==t;var d=!0;u.set(t,e),u.set(e,t);for(var y=c;++f<l;){var g=t[p=s[f]],b=e[p];if(i)var m=c?i(b,g,p,e,t,u):i(g,b,p,t,e,u);if(!(void 0===m?g===b||a(g,b,r,i,u):m)){d=!1;break}y||(y="constructor"==p)}if(d&&!y){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(d=!1)}return u.delete(t),u.delete(e),d}},(t,e,r)=>{var n=r(104),o=r(106),i=r(17);t.exports=function(t){return n(t,i,o)}},(t,e,r)=>{var n=r(105),o=r(1);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},(t,e,r)=>{var n=r(107),o=r(108),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},t=>{t.exports=function(){return[]}},(t,e,r)=>{var n=r(110),o=r(24),i=r(111),a=r(112),u=r(113),c=r(5),s=r(32),l="[object Map]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",v="[object DataView]",d=s(n),y=s(o),g=s(i),b=s(a),m=s(u),x=c;(n&&x(new n(new ArrayBuffer(1)))!=v||o&&x(new o)!=l||i&&x(i.resolve())!=f||a&&x(new a)!=p||u&&x(new u)!=h)&&(x=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?s(r):"";if(n)switch(n){case d:return v;case y:return l;case g:return f;case b:return p;case m:return h}return e}),t.exports=x},(t,e,r)=>{var n=r(3)(r(0),"DataView");t.exports=n},(t,e,r)=>{var n=r(3)(r(0),"Promise");t.exports=n},(t,e,r)=>{var n=r(3)(r(0),"Set");t.exports=n},(t,e,r)=>{var n=r(3)(r(0),"WeakMap");t.exports=n},(t,e,r)=>{var n=r(41),o=r(17);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],a=t[i];e[r]=[i,a,n(a)]}return e}},(t,e,r)=>{var n=r(38),o=r(116),i=r(122),a=r(26),u=r(41),c=r(42),s=r(14);t.exports=function(t,e){return a(t)&&u(e)?c(s(t),e):function(r){var a=o(r,t);return void 0===a&&a===e?i(r,t):n(e,a,3)}}},(t,e,r)=>{var n=r(43);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},(t,e,r)=>{var n=r(118),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a},(t,e,r)=>{var n=r(119);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},(t,e,r)=>{var n=r(25);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},(t,e,r)=>{var n=r(121);t.exports=function(t){return null==t?"":n(t)}},(t,e,r)=>{var n=r(9),o=r(45),i=r(1),a=r(27),u=n?n.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},(t,e,r)=>{var n=r(123),o=r(124);t.exports=function(t,e){return null!=t&&o(t,e,n)}},t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},(t,e,r)=>{var n=r(44),o=r(18),i=r(1),a=r(19),u=r(21),c=r(14);t.exports=function(t,e,r){for(var s=-1,l=(e=n(e,t)).length,f=!1;++s<l;){var p=c(e[s]);if(!(f=null!=t&&r(t,p)))break;t=t[p]}return f||++s!=l?f:!!(l=null==t?0:t.length)&&u(l)&&a(p,l)&&(i(t)||o(t))}},(t,e,r)=>{var n=r(126),o=r(127),i=r(26),a=r(14);t.exports=function(t){return i(t)?n(a(t)):o(t)}},t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},(t,e,r)=>{var n=r(43);t.exports=function(t){return function(e){return n(e,t)}}},(t,e,r)=>{var n=r(129),o=r(143)((function(t,e,r){n(t,e,r)}));t.exports=o},(t,e,r)=>{var n=r(23),o=r(46),i=r(34),a=r(130),u=r(2),c=r(29),s=r(48);t.exports=function t(e,r,l,f,p){e!==r&&i(r,(function(i,c){if(p||(p=new n),u(i))a(e,r,c,l,t,f,p);else{var h=f?f(s(e,c),i,c+"",e,r,p):void 0;void 0===h&&(h=i),o(e,c,h)}}),c)}},(t,e,r)=>{var n=r(46),o=r(52),i=r(131),a=r(133),u=r(134),c=r(18),s=r(1),l=r(136),f=r(15),p=r(16),h=r(2),v=r(137),d=r(20),y=r(48),g=r(138);t.exports=function(t,e,r,b,m,x,w){var _=y(t,r),j=y(e,r),O=w.get(j);if(O)n(t,r,O);else{var P=x?x(_,j,r+"",t,e,w):void 0,E=void 0===P;if(E){var S=s(j),M=!S&&f(j),L=!S&&!M&&d(j);P=j,S||M||L?s(_)?P=_:l(_)?P=a(_):M?(E=!1,P=o(j,!0)):L?(E=!1,P=i(j,!0)):P=[]:v(j)||c(j)?(P=_,c(_)?P=g(_):h(_)&&!p(_)||(P=u(j))):E=!1}E&&(w.set(j,P),m(P,j,b,x,w),w.delete(j)),n(t,r,P)}}},(t,e,r)=>{var n=r(132);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},(t,e,r)=>{var n=r(40);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},(t,e,r)=>{var n=r(135),o=r(47),i=r(22);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},(t,e,r)=>{var n=r(2),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},(t,e,r)=>{var n=r(6),o=r(4);t.exports=function(t){return o(t)&&n(t)}},(t,e,r)=>{var n=r(5),o=r(47),i=r(4),a=Function.prototype,u=Object.prototype,c=a.toString,s=u.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=s.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==l}},(t,e,r)=>{var n=r(139),o=r(29);t.exports=function(t){return n(t,o(t))}},(t,e,r)=>{var n=r(140),o=r(8);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var u=-1,c=e.length;++u<c;){var s=e[u],l=i?i(r[s],t[s],s,r,t):void 0;void 0===l&&(l=t[s]),a?o(r,s,l):n(r,s,l)}return r}},(t,e,r)=>{var n=r(8),o=r(7),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},(t,e,r)=>{var n=r(2),o=r(22),i=r(142),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&r.push(u);return r}},t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},(t,e,r)=>{var n=r(49),o=r(50);t.exports=function(t){return n((function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(r[0],r[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var c=r[n];c&&t(e,c,n,a)}return e}))}},(t,e,r)=>{var n=r(145),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),c=Array(u);++a<u;)c[a]=i[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=i[a];return s[e]=r(c),n(t,this,s)}}},t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},(t,e,r)=>{var n=r(147),o=r(149)(n);t.exports=o},(t,e,r)=>{var n=r(148),o=r(30),i=r(28),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},t=>{t.exports=function(t){return function(){return t}}},t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},t=>{!function(){"use strict";var e=Math.PI,r=Math.sin,n=Math.cos,o=Math.tan,i=Math.asin,a=Math.atan2,u=Math.acos,c=e/180,s=864e5,l=2440588,f=2451545;function p(t){return new Date((t+.5-l)*s)}function h(t){return function(t){return t.valueOf()/s-.5+l}(t)-f}var v=23.4397*c;function d(t,e){return a(r(t)*n(v)-o(e)*r(v),n(t))}function y(t,e){return i(r(e)*n(v)+n(e)*r(v)*r(t))}function g(t,e,i){return a(r(t),n(t)*r(e)-o(i)*n(e))}function b(t,e,o){return i(r(e)*r(o)+n(e)*n(o)*n(t))}function m(t,e){return c*(280.16+360.9856235*t)-e}function x(t){return c*(357.5291+.98560028*t)}function w(t){return t+c*(1.9148*r(t)+.02*r(2*t)+3e-4*r(3*t))+102.9372*c+e}function _(t){var e=w(x(t));return{dec:y(e,0),ra:d(e,0)}}var j={getPosition:function(t,e,r){var n=c*-r,o=c*e,i=h(t),a=_(i),u=m(i,n)-a.ra;return{azimuth:g(u,o,a.dec),altitude:b(u,o,a.dec)}}},O=j.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];j.addTime=function(t,e,r){O.push([t,e,r])};var P=9e-4;function E(t,r,n){return P+(t+r)/(2*e)+n}function S(t,e,n){return f+t+.0053*r(e)-.0069*r(2*n)}function M(t,e,o,i,a,c,s){var l=function(t,e,o){return u((r(t)-r(e)*r(o))/(n(e)*n(o)))}(t,o,i);return S(E(l,e,a),c,s)}function L(t){var e=c*(134.963+13.064993*t),o=c*(93.272+13.22935*t),i=c*(218.316+13.176396*t)+6.289*c*r(e),a=5.128*c*r(o),u=385001-20905*n(e);return{ra:d(i,a),dec:y(i,a),dist:u}}function k(t,e){return new Date(t.valueOf()+e*s/24)}j.getTimes=function(t,r,n,o){var i,a,u,s,l,f=c*-n,v=c*r,d=function(t){return-2.076*Math.sqrt(t)/60}(o=o||0),g=function(t,r){return Math.round(t-P-r/(2*e))}(h(t),f),b=E(0,f,g),m=x(b),_=w(m),j=y(_,0),L=S(b,m,_),k={solarNoon:p(L),nadir:p(L-.5)};for(i=0,a=O.length;i<a;i+=1)l=L-((s=M(((u=O[i])[0]+d)*c,f,v,j,g,m,_))-L),k[u[1]]=p(l),k[u[2]]=p(s);return k},j.getMoonPosition=function(t,e,i){var u=c*-i,s=c*e,l=h(t),f=L(l),p=m(l,u)-f.ra,v=b(p,s,f.dec),d=a(r(p),o(s)*n(f.dec)-r(f.dec)*n(p));return v+=function(t){return t<0&&(t=0),2967e-7/Math.tan(t+.00312536/(t+.08901179))}(v),{azimuth:g(p,s,f.dec),altitude:v,distance:f.dist,parallacticAngle:d}},j.getMoonIllumination=function(t){var e=h(t||new Date),o=_(e),i=L(e),c=149598e3,s=u(r(o.dec)*r(i.dec)+n(o.dec)*n(i.dec)*n(o.ra-i.ra)),l=a(c*r(s),i.dist-c*n(s)),f=a(n(o.dec)*r(o.ra-i.ra),r(o.dec)*n(i.dec)-n(o.dec)*r(i.dec)*n(o.ra-i.ra));return{fraction:(1+n(l))/2,phase:.5+.5*l*(f<0?-1:1)/Math.PI,angle:f}},j.getMoonTimes=function(t,e,r,n){var o=new Date(t);n?o.setUTCHours(0,0,0,0):o.setHours(0,0,0,0);for(var i,a,u,s,l,f,p,h,v,d,y,g,b,m=.133*c,x=j.getMoonPosition(o,e,r).altitude-m,w=1;w<=24&&(i=j.getMoonPosition(k(o,w),e,r).altitude-m,h=((l=(x+(a=j.getMoonPosition(k(o,w+1),e,r).altitude-m))/2-i)*(p=-(f=(a-x)/2)/(2*l))+f)*p+i,d=0,(v=f*f-4*l*i)>=0&&(y=p-(b=Math.sqrt(v)/(2*Math.abs(l))),g=p+b,Math.abs(y)<=1&&d++,Math.abs(g)<=1&&d++,y<-1&&(y=g)),1===d?x<0?u=w+y:s=w+y:2===d&&(u=w+(h<0?g:y),s=w+(h<0?y:g)),!u||!s);w+=2)x=a;var _={};return u&&(_.rise=k(o,u)),s&&(_.set=k(o,s)),u||s||(_[h>0?"alwaysUp":"alwaysDown"]=!0),_},t.exports=j}()},t=>{"use strict";t.exports=n},t=>{"use strict";t.exports=r},(t,e,r)=>{var n=r(49),o=r(7),i=r(50),a=r(29),u=Object.prototype,c=u.hasOwnProperty,s=n((function(t,e){t=Object(t);var r=-1,n=e.length,s=n>2?e[2]:void 0;for(s&&i(e[0],e[1],s)&&(n=1);++r<n;)for(var l=e[r],f=a(l),p=-1,h=f.length;++p<h;){var v=f[p],d=t[v];(void 0===d||o(d,u[v])&&!c.call(t,v))&&(t[v]=l[v])}return t}));t.exports=s},(t,e,r)=>{var n=r(45),o=r(37),i=r(155),a=r(1);t.exports=function(t,e){return(a(t)?n:i)(t,o(e,3))}},(t,e,r)=>{var n=r(156),o=r(6);t.exports=function(t,e){var r=-1,i=o(t)?Array(t.length):[];return n(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}},(t,e,r)=>{var n=r(33),o=r(157)(n);t.exports=o},(t,e,r)=>{var n=r(6);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var i=r.length,a=e?i:-1,u=Object(r);(e?a--:++a<i)&&!1!==o(u[a],a,u););return r}}},,t=>{"use strict";t.exports=e}],i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={id:t,loaded:!1,exports:{}};return o[t](r,r.exports,a),r.loaded=!0,r.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var u={};return(()=>{"use strict";a.r(u),a.d(u,{plugin:()=>ut});var t=a(53);function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n,o,i,c=r((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));i="partials/annotations.editor.html",(o="templateUrl")in(n=c)?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i;var s=a(54),l=a.n(s),f=a(128),p=a.n(f),h=a(150),v=a(159),d={moon_illumination:{title:"Moon illumination",text:"Percentage of the moon illuminated by the sun"},moon_altitude:{title:"Moon altitude",text:"Height of the moon in the in degrees"},moon_azimuth:{title:"Moon azimuth",text:"Direction of the moon along the horizon in degrees"},moon_distance:{title:"Moon distance",text:"Distance to the moon in meter"},sun_altitude:{title:"Sun altitude",text:"Height of the sun in the in degrees"},sun_azimuth:{title:"Sun azimuth",text:"Direction of the sun along the horizon in degrees"}},y={sunrise:{title:"Sunrise",text:"Top edge of the sun appears on the horizon",tags:["sun"]},sunriseEnd:{title:"Sunrise ends",text:"Bottom edge of the sun touches the horizon",tags:["sun"]},goldenHourEnd:{title:"Morning golden hour ends",text:"Soft light, best time for photography",tags:["sun"]},solarNoon:{title:"Solar noon",text:"Sun is in the highest position",tags:["sun"]},goldenHour:{title:"Evening golden hour starts",text:"Soft light, best time for photography",tags:["sun"]},sunsetStart:{title:"Sunset starts",text:"Bottom edge of the sun touches the horizon",tags:["sun"]},sunset:{title:"Sunset",text:"Sun disappears below the horizon, evening civil twilight starts",tags:["sun"]},dusk:{title:"Dusk",text:"Evening nautical twilight starts",tags:["sun"]},nauticalDusk:{title:"Nautical dusk",text:"Evening astronomical twilight starts",tags:["sun"]},night:{title:"Night starts",text:"Dark enough for astronomical observations",tags:["sun"]},nadir:{title:"Nadir",text:"Darkest moment of the night, sun is in the lowest position",tags:["sun"]},nightEnd:{title:"Night ends",text:"Morning astronomical twilight starts",tags:["sun"]},nauticalDawn:{title:"Nautical dawn",text:"Morning nautical twilight starts",tags:["sun"]},dawn:{title:"Dawn",text:"Morning nautical twilight ends, morning civil twilight starts",tags:["sun"]},moonrise:{title:"Moonrise",text:"Top edge of the moon appears on the horizon",tags:["moon"]},moonset:{title:"Moonset",text:"Moon disappears below the horizon",tags:["moon"]},noon:{title:"Noon",text:"12 o'clock in the daytime",tags:["time"]},midnight:{title:"Midnight",text:"12 o'clock in the night",tags:["time"]}},g={target:"moon_illumination"};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function m(){m=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new S(o||[]);return n(a,"_invoke",{value:j(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function v(){}var d={};c(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(M([])));g&&g!==e&&r.call(g,i)&&(d=g);var x=v.prototype=p.prototype=Object.create(d);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==b(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function j(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return L()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=O(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function O(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function M(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=v,n(x,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:h,configurable:!0}),h.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(_.prototype),c(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(x),c(x,u,"Generator"),c(x,i,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=M,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function w(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){x(i,n,o,a,u,"next",t)}function u(t){x(i,n,o,a,u,"throw",t)}a(void 0)}))}}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=S(t);if(e){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}function P(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function M(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var L,k,D=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(s,e);var r,n,o,i,a,u,c=O(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),M(E(e=c.call(this,t)),"latitude",void 0),M(E(e),"longitude",void 0),e.latitude=t.jsonData.latitude,e.longitude=t.jsonData.longitude,e}return r=s,n=[{key:"query",value:(u=w(m().mark((function e(r){var n,o,i,a,u,c,s,l,f=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.range,o=n.from.valueOf(),i=n.to.valueOf(),a=r.maxDataPoints,u=Math.ceil((i-o)/a),c=[],s=r.targets.filter((function(t){return t.target&&!t.hide})),l=s.map((function(e){var n=new t.MutableDataFrame({refId:e.refId,name:d[e.target].title,fields:[{name:"Time",type:t.FieldType.time},{name:"Value",type:t.FieldType.number}]}),a=f.latitude;e.latitude&&(a=parseFloat((0,v.getTemplateSrv)().replace(e.latitude,r.scopedVars)),(isNaN(a)||a<-90||a>90)&&c.push("Error in query ".concat(e.refId,": Latitude '").concat(a,"' not in range -+90.")));var s=f.longitude;e.longitude&&(s=parseFloat((0,v.getTemplateSrv)().replace(e.longitude,r.scopedVars)),(isNaN(s)||s<-360||s>360)&&c.push("Error in query ".concat(e.refId,": Longitude '").concat(s,"' not in range -+360")));for(var l=0,p=o;p<i;p+=u){switch(e.target){case"moon_illumination":l=h.getMoonIllumination(new Date(p)).fraction;break;case"moon_altitude":l=180*h.getMoonPosition(new Date(p),a,s).altitude/Math.PI;break;case"moon_azimuth":l=180*h.getMoonPosition(new Date(p),a,s).azimuth/Math.PI;break;case"moon_distance":l=h.getMoonPosition(new Date(p),a,s).distance;break;case"sun_altitude":l=180*h.getPosition(new Date(p),a,s).altitude/Math.PI;break;case"sun_azimuth":l=180*h.getPosition(new Date(p),a,s).azimuth/Math.PI}n.add({Time:p,Value:l})}return n})),!c.length){e.next=12;break}throw new Error(c.join(" "));case 12:return e.abrupt("return",{data:l});case 13:case"end":return e.stop()}}),e)}))),function(t){return u.apply(this,arguments)})},{key:"annotationQuery",value:(a=w(m().mark((function e(r){var n,o,i,a,u,c,s,f,v,d,g,b,x,w;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.range,o=(0,t.dateTime)(n.from),i=(0,t.dateTime)(n.to).add(1,"days"),a=[],!(i.diff(o,"years")>1)){e.next=6;break}return e.abrupt("return",a);case 6:u=["*"],void 0!==r.annotation.query&&(u=r.annotation.query.split(/\s*[\s,]\s*/)),c=o;case 9:if(!(c<i)){e.next=33;break}s=h.getTimes(c.toDate(),this.latitude,this.longitude),f=h.getMoonTimes(c.toDate(),this.latitude,this.longitude),v=p()({},s,l()(f,(function(t,e){return"moon"+e}))),d=Date.prototype.setHours,void 0!==r.dashboard&&"utc"===r.dashboard.getTimezone()&&(d=Date.prototype.setUTCHours),g=c.toDate(),d.call(g,12,0,0),v.noon=g,b=c.toDate(),d.call(b,0,0,0),v.midnight=b,e.t0=m().keys(v);case 22:if((e.t1=e.t0()).done){e.next=30;break}if(x=e.t1.value,u.includes("*")||!(u.indexOf(x)<0)){e.next=26;break}return e.abrupt("continue",22);case 26:w={time:+v[x].valueOf(),title:y[x].title,text:y[x].text,tags:y[x].tags},a.push(w),e.next=22;break;case 30:c.add(1,"days"),e.next=9;break;case 33:return e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,this)}))),function(t){return a.apply(this,arguments)})},{key:"testDatasource",value:(i=w(m().mark((function t(){var e;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[],(void 0===this.latitude||this.latitude<-90||this.latitude>90)&&e.push("Latitude not in range -+90."),(void 0===this.longitude||this.longitude<-360||this.longitude>360)&&e.push("Longitude not in range -+360."),!e.length){t.next=7;break}return t.abrupt("return",{status:"error",title:"Error",message:e.join(" ")});case 7:return t.abrupt("return",{status:"success",title:"Success",message:"Datasource added successfully."});case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],n&&_(r.prototype,n),o&&_(r,o),Object.defineProperty(r,"prototype",{writable:!1}),s}(t.DataSourceApi),T=a(151),z=a.n(T),N=a(152);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function C(){return C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C.apply(this,arguments)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=G(t);if(e){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return B(this,r)}}function B(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return q(t)}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function U(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var H,$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(i,t);var e,r,n,o=R(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),U(q(e=o.call(this,t)),"fillPositionFromGeoLocation",(function(){var t=e.props.options.jsonData;void 0===t.latitude&&void 0===t.longitude&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var r=e.props,n=r.onOptionsChange,o=r.options,i=C({},o.jsonData,{latitude:t.coords.latitude,longitude:t.coords.longitude});n(C({},o,{jsonData:i}))}))})),U(q(e),"onLatitudeChange",(function(t){var r=parseFloat(t.target.value),n=e.props,o=n.onOptionsChange,i=n.options,a=C({},i.jsonData,{latitude:isNaN(r)?void 0:r});o(C({},i,{jsonData:a}))})),U(q(e),"onLongitudeChange",(function(t){var r=parseFloat(t.target.value),n=e.props,o=n.onOptionsChange,i=n.options,a=C({},i.jsonData,{longitude:isNaN(r)?void 0:r});o(C({},i,{jsonData:a}))})),e.fillPositionFromGeoLocation(),e}return e=i,(r=[{key:"render",value:function(){var t=this.props.options.jsonData;return z().createElement("div",{className:"gf-form-group"},L||(L=z().createElement("h3",{className:"page-heading"},"Sun and Moon reference location")),k||(k=z().createElement("div",{className:"grafana-info-box"},"This datasource calculates sun and moon metrics that are relative to a location on earth.",z().createElement("br",null),"The geographic position is expressed as latitude and longitude in decimal degrees.")),z().createElement("div",{className:"gf-form"},z().createElement(N.InlineField,{label:"Latitude",labelWidth:14},z().createElement(N.Input,{className:"latitude","aria-label":"Latitude",onChange:this.onLatitudeChange,value:t.latitude,placeholder:"48.3984",type:"number",min:-90,max:90,required:!0,width:32}))),z().createElement("div",{className:"gf-form"},z().createElement(N.InlineField,{label:"Longitude",labelWidth:14},z().createElement(N.Input,{className:"longitude","aria-label":"Longitude",onChange:this.onLongitudeChange,value:t.longitude,placeholder:"9.9910",type:"number",min:-360,max:360,required:!0,width:32}))))}}])&&I(e.prototype,r),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(T.PureComponent),V=a(153),W=a.n(V),Q=a(154);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J.apply(this,arguments)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=nt(t);if(e){var o=nt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return et(this,r)}}function et(t,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rt(t)}function rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}function ot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var it=a.n(Q)()(d,(function(t,e){return{label:t.title,value:e,description:t.text}})),at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(i,t);var e,r,n,o=tt(i);function i(){var t;K(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ot(rt(t=o.call.apply(o,[this].concat(r))),"onMetricChanged",(function(e){var r=t.props,n=r.onChange,o=r.query,i=r.onRunQuery;n(J({},o,{target:e.value})),i()})),ot(rt(t),"onLatitudeChange",(function(e){var r=t.props,n=r.onChange,o=r.query,i=r.onRunQuery;n(J({},o,{latitude:e.target.value})),i()})),ot(rt(t),"onLongitudeChange",(function(e){var r=t.props,n=r.onChange,o=r.query,i=r.onRunQuery;n(J({},o,{longitude:e.target.value})),i()})),t}return e=i,(r=[{key:"render",value:function(){var t=W()(this.props.query,g),e=this.props.datasource;return z().createElement("div",{className:"gf-form-group"},z().createElement("div",{className:"gf-form"},H||(H=z().createElement(N.InlineFormLabel,{htmlFor:"Metric"},"Metric")),z().createElement(N.Select,{className:"metric",inputId:"Metric",options:it,value:t.target,onChange:this.onMetricChanged,placeholder:"Metric"})),z().createElement("div",{className:"gf-form gf-form--grow"},z().createElement(N.InlineField,{label:"Override Latitude",labelWidth:20},z().createElement(N.Input,{className:"latitude","aria-label":"Latitude",onChange:this.onLatitudeChange,value:t.latitude,placeholder:e.latitude.toString(),width:32})),z().createElement(N.InlineField,{label:"Override Longitude",labelWidth:20},z().createElement(N.Input,{className:"longitude","aria-label":"Longitude",onChange:this.onLongitudeChange,value:t.longitude,placeholder:e.longitude.toString(),width:32}))))}}])&&X(e.prototype,r),n&&X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(T.PureComponent),ut=new t.DataSourcePlugin(D).setConfigEditor($).setQueryEditor(at).setAnnotationQueryCtrl(c)})(),u})()));
//# sourceMappingURL=module.js.map